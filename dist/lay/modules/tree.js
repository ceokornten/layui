/** layui-v2.2.4 MIT License By http://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";function a(e,i){if(!i||!r.contains(e[0],i[0])){var o=e.children("ul"),n=e.children("a"),l=e.children(".layui-tree-spread");e.data("spread")&&(e.data("spread",null),o.removeClass("layui-show"),l.html(t.arrow[0]),n.find(".layui-icon").html(t.branch[0])),i&&a(e.parent(),i)}}var r=layui.$,i=layui.hint(),o="layui-tree-enter",n=function(e){this.options=e},t={arrow:["&#xe623;","&#xe625;"],checkbox:["&#xe626;","&#xe627;"],radio:["&#xe62b;","&#xe62a;"],branch:["&#xe622;","&#xe624;"],leaf:"&#xe621;"};n.prototype.init=function(e){e.addClass("layui-box layui-tree"),this.options.skin&&e.addClass("layui-tree-skin-"+this.options.skin),this.options.currentExpandedNode=null,this.tree(e),this.on(e)},n.prototype.tree=function(e,a){var i=this,o=i.options,n=a||o.nodes;layui.each(n,function(a,n){var l=n.children&&n.children.length>0,c=r('<ul class="'+(n.spread?"layui-show":"")+'"></ul>'),s=r(["<li "+(n.spread?'data-spread="'+n.spread+'"':"")+">",l?'<i class="layui-icon layui-tree-spread">'+(n.spread?t.arrow[1]:t.arrow[0])+"</i>":"",o.check?'<i class="layui-icon layui-tree-check">'+("checkbox"===o.check?t.checkbox[0]:"radio"===o.check?t.radio[0]:"")+"</i>":"",function(){var e=void 0;return e=l?n.spread?t.branch[1]:t.branch[0]:t.leaf,'<a href="'+(n.href||"javascript:;")+'" '+(o.target&&n.href?'target="'+o.target+'"':"")+'><i class="layui-icon layui-tree-'+(l?"branch":"leaf")+'">'+e+"</i><cite>"+(n.name||"未命名")+"</cite></a>"}(),"</li>"].join(""));l&&(s.append(c),i.tree(c,n.children)),e.append(s),"function"==typeof o.click&&i.click(s,n),i.spread(s,n),o.drag&&i.drag(s,n)})},n.prototype.click=function(e,a){var r=this.options;e.children("a").on("click",function(e){layui.stope(e),r.click(a)})},n.prototype.spread=function(e){var i=this,o=this.options.accordion,n=function(){var n=i.options.currentExpandedNode;o&&(n?n[0]===e[0]||r.contains(n[0],e[0])?n=e.data("spread")?null:e:(a(n,e),n=e):e.data("spread")||(n=e)),i.options.currentExpandedNode=n,function(e){var a=e.children("ul"),r=e.children("a"),i=e.children(".layui-tree-spread");e.data("spread")?(e.data("spread",null),a.removeClass("layui-show"),i.html(t.arrow[0]),r.find(".layui-icon").html(t.branch[0])):(e.data("spread",!0),a.addClass("layui-show"),i.html(t.arrow[1]),r.find(".layui-icon").html(t.branch[1]))}(e)};e.children("ul")[0]&&(e.children(".layui-tree-spread").on("click",n),e.children("a").on("dblclick",n))},n.prototype.on=function(e){var a=this,i=a.options,n="layui-tree-drag";e.find("i").on("selectstart",function(){return!1}),i.drag&&r(document).on("mousemove",function(e){var i=a.move;if(i.from){var o=r('<div class="layui-box '+n+'"></div>');e.preventDefault();var t=r("."+n);t[0]||r("body").append(o);var l=(t=r("."+n))[0]?t:o;l.addClass("layui-show").html(i.from.elem.children("a").html()),l.css({left:e.pageX+10,top:e.pageY+10})}}).on("mouseup",function(){var e=a.move;e.from&&(e.from.elem.children("a").removeClass(o),e.to&&e.to.elem.children("a").removeClass(o),a.move={},r("."+n).remove())})},n.prototype.move={},n.prototype.drag=function(e,a){var i=this,n=e.children("a"),t=function(){var n=r(this),t=i.move;t.from&&(t.to={item:a,elem:e},n.addClass(o))};n.on("mousedown",function(){i.move.from={item:a,elem:e}}),n.on("mouseenter",t).on("mousemove",t).on("mouseleave",function(){var e=r(this),a=i.move;a.from&&(delete a.to,e.removeClass(o))})},e("tree",function(e){var a=new n(e=e||{}),o=r(e.elem);if(!o[0])return i.error("layui.tree 没有找到"+e.elem+"元素");a.init(o)})});